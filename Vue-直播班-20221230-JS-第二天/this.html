<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>團隊任務練習</title>
  </head>
  <!-- https://bejewled-air-4cb.notion.site/02e9357bec3e4b5fb998ad0d796799fb -->
  <body>
    <div id="app">
      <ul>
        <li v-for="item in people">{{ item.email }}</li>
      </ul>
      <button type="button" v-on:click="getRandomUserData">取得遠端資料</button>
    </div>
  </body>
  <!-- axios -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.2/axios.min.js"></script>
  <!-- Vue -->
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    // const text = "卡斯伯";
    // setTimeout(() => {
    //   text = "Ray";
    // }, 0);
    // console.log(text); // 卡斯伯
    // ---------------------------------------------------
    // const promiseSetTimeout = (status) => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       if (status) {
    //         resolve("promiseSetTimeout 成功");
    //       } else {
    //         reject("promiseSetTimeout 失敗");
    //       }
    //     }, 10);
    //   });
    // };
    // ---------------------------------------------------
    // Promise 中會使用 resolve 或 reject 回傳結果，並在調用時使用 then 或 catch 取得值。
    // const promiseSetTimeout = (status) => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       if (status) {
    //         resolve("promiseSetTimeout 成功");
    //       } else {
    //         reject("promiseSetTimeout 失敗");
    //       }
    //     }, 10);
    //   });
    // };

    // promiseSetTimeout(2)
    //   .then((res) => {
    //     console.log(res); // promiseSetTimeout 成功
    //     return promiseSetTimeout(0);
    //   })
    //   .then((res) => {
    //     console.log(res);
    // return promiseSetTimeout(2); // 上方 promiseSetTimeout(0) -> 會直接按照順序跳過這裡執行 catch
    //   })
    //   .catch((error) => {
    //     console.log(error); // promiseSetTimeout 失敗
    //     return promiseSetTimeout(2);
    //   })
    //   .then((res) => {
    //     console.log(res); // promiseSetTimeout 成功
    //   });
    // ---------------------------------------------------
    function fn() {
      console.log(this.myName); // undefined
    }
    const myName = "全域";
    const obj = {
      myName: "小明",
      fn,
    };
    fn();
    // ---------------------------------------------------
    // function fn() {
    //   console.log(this.myName);
    // }
    // const myName = "全域";
    // const obj = {
    //   myName: "小明",
    //   fn,
    // };
    // obj.fn(); // 小明
    // ---------------------------------------------------
    // function fn() {
    //   console.log(this.myName);
    // }
    // var myName = "全域";

    // const obj = {
    //   myName: "小明",
    //   fn,
    //   myFn() {
    //     // 問題 8： (1) '全域'  (2) '小明' (3) 其它
    //     this.fn(); // 小明

    //     // 問題 9： (1) '全域'  (2) '小明' (3) 其它
    //     setTimeout(function () {
    //       this.fn(); // 全域
    //     }, 0);
    //   },
    // };

    // obj.myFn();
    // ---------------------------------------------------
    // const obj = {
    //   myName: "小明",
    //   arr: [1, 2, 3],
    //   myFn() {
    //     this.arr.forEach((item) => {
    //       console.log(this.myName); // 小明 * 3
    //     });
    //   },
    // };

    // obj.myFn();
    // ---------------------------------------------------
    // Vue.createApp({
    //   data() {
    //     return {
    //       people: [],
    //     };
    //   },
    //   // 方法集
    //   methods: {
    //     getRandomUserData() {
    //       axios
    //         .get("https://randomuser.me/api/")
    //         .then((res) => {
    //           console.log(res);
    //           this.people = res.data.results;
    //         })
    //         .catch((err) => {
    //           console.log(err.response);
    //         });
    //     },
    //   },
    //   // 生命週期
    //   mounted() {
    //     this.getRandomUserData();
    //   },
    // }).mount("#app");
  </script>
</html>
