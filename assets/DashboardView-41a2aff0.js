import{_ as k,c as _,a as c,b as r,w as n,d as e,i as m,j as f,e as $,r as u,o as h}from"./index-c7cc0fff.js";const g={name:"DashboardView",data(){return{checkSuccess:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(o){this.$http.defaults.headers.common.Authorization=`${o}`;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(a=>{alert(a.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}}},v=c("h1",null,"你現在在後台頁面",-1),x={id:"nav"};function w(o,t,a,V,d,i){const s=u("router-link"),l=u("router-view");return h(),_("div",null,[v,c("div",x,[r(s,{to:"/"},{default:n(()=>[e("回到前台")]),_:1}),e(" | "),r(s,{to:"/admin/products"},{default:n(()=>[e("後台產品列表")]),_:1}),e(" | "),r(s,{to:"/admin/orders"},{default:n(()=>[e("後台訂單")]),_:1}),e(" | "),c("a",{href:"#",onClick:t[0]||(t[0]=m((...p)=>i.signout&&i.signout(...p),["prevent"]))},"登出")]),d.checkSuccess?(h(),f(l,{key:0})):$("",!0)])}const C=k(g,[["render",w]]);export{C as default};
