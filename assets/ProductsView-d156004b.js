import{_,o as s,c as n,a as e,h as p,i as u,F as g,g as h,t as c,d as k,b as P,r as v}from"./index-c7cc0fff.js";const f={props:["pages"],methods:{updatePage(r){this.$emit("emitPages",r)}}},x={"aria-label":"Page navigation example"},$={class:"pagination justify-content-center"},b=e("span",{"aria-hidden":"true"},"«",-1),y=[b],w={key:0,class:"page-link"},C=["onClick"],V=e("span",{"aria-hidden":"true"},"»",-1),N=[V];function B(r,i,t,m,l,d){return s(),n("nav",x,[e("ul",$,[e("li",{class:p([{disabled:!t.pages.has_pre},"page-item"])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:i[0]||(i[0]=u(a=>d.updatePage(t.pages.current_page-1),["prevent"]))},y)],2),(s(!0),n(g,null,h(t.pages.total_pages,a=>(s(),n("li",{class:p(["page-item",{active:t.pages.current_page===a}]),key:a},[a===t.pages.current_page?(s(),n("span",w,c(a),1)):(s(),n("a",{key:1,class:"page-link",href:"#",onClick:u(o=>d.updatePage(a),["prevent"])},c(a),9,C))],2))),128)),e("li",{class:p(["page-item",{disabled:!t.pages.has_next}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:i[1]||(i[1]=u(a=>d.updatePage(t.pages.current_page+1),["prevent"]))},N)],2)])])}const E=_(f,[["render",B]]),q={name:"ProductsView",props:["token"],data(){return{products:[],pagination:{}}},components:{Pagination:E},methods:{getProducts(r=1){const i=`https://vue3-course-api.hexschool.io/v2/api/qoqvuedemo/admin/products?page=${r}`;this.$http.get(i).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination}).catch(t=>{alert(t.response.data.message)})}},mounted(){this.getProducts()}},F={class:"table mt-4"},j=e("thead",null,[e("tr",null,[e("th",{width:"120"},"分類"),e("th",null,"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"100"},"是否啟用")])],-1),z={class:"text-end"},D={class:"text-end"},L={key:0,class:"text-success"},M={key:1};function S(r,i,t,m,l,d){const a=v("Pagination");return s(),n("div",null,[k(" 這裡是 後台 產品列表 "),e("table",F,[j,e("tbody",null,[(s(!0),n(g,null,h(l.products,o=>(s(),n("tr",{key:o.id},[e("td",null,c(o.category),1),e("td",null,c(o.title),1),e("td",z,c(o.origin_price),1),e("td",D,c(o.price),1),e("td",null,[o.is_enabled?(s(),n("span",L,"啟用")):(s(),n("span",M,"未啟用"))])]))),128))])]),P(a,{pages:l.pagination,onEmitPages:d.getProducts},null,8,["pages","onEmitPages"])])}const A=_(q,[["render",S]]);export{A as default};
