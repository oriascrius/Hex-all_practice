<!DOCTYPE html>
<html>

<head>
  <title>è¡¨å–®é©—è­‰å¥—ä»¶</title>
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1"
  >
  <link
    href="images/favicon.ico"
    rel="shortcut icon"
  >
  <meta charset="UTF-8">
  <script src="/javascripts/vendor.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.0.2/vue.global.js"></script>
</head>

<body class="bg-lighter">
  <div class="container main my-5">
    <div class="row">
      <main class="col post">
        <!-- ç« ç¯€æ¨™é¡Œ -->
        <div class="mb-4">
          <h1 class="mt-0 text-muted">è¡¨å–®é©—è­‰å¥—ä»¶</h1><small>æª”åï¼š<code>adv-vee-validation.html</code></small>
        </div>
        <!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->

        <div id="app">
          <h2>å¥—ç”¨ä¸€å€‹ç¾æˆçš„æµç¨‹</h2>
          <p>åƒè€ƒæ–‡ä»¶ï¼š<a href="https://hackmd.io/FFv0a5cBToOATP7uI5COMQ">https://hackmd.io/FFv0a5cBToOATP7uI5COMQ</a></p>

          <h3>ç¯„ä¾‹ï¼šè¼‰å…¥ VeeValidate é©—è­‰å¥—ä»¶</h3>

          <!-- æ­¥é©Ÿ 5ï¼šå¥—ç”¨ v-form ä¸¦åŠ å…¥ v-slot -->
          <!-- å‚™è¨»ï¼šv-slot ç¨±ç‚ºæ’æ§½ Propsï¼Œå¯ä»¥å°‡é©—è­‰çµæœçš„å›é¥‹è³‡æ–™ç›´æ¥å¸¶å…¥æ–¼å€å¡Šä¸­ -->
          <!-- v-slot="{ errors }" å‚³åˆ° v-field(è¼¸å…¥æ¡†)å…§çš„ :class="{ 'is-invalid': errors['email'] }" æ¥æ”¶-->
          <v-form
            @submit="onSubmit"
            v-slot="{ errors }"
          >
            <!-- é€™è£¡æ–¹ä¾¿æˆ‘å€‘çœ‹åˆ°éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºä»€éº¼ï¼Œåˆ°æ™‚å€™å¯æŠŠå®ƒåˆªé™¤ -->
            {{ errors }}
            <div class="mb-3">
              <label
                for="email"
                class="form-label"
              >Email</label>

              <!-- æ­¥é©Ÿ 6ï¼šå¥—ç”¨ v-field åŠ error-message -->
              <!-- input æ”¹æˆ  v-field ä¸¦æœ‰çµå°¾ </v-field> -->
              <!-- ä¸¦åœ¨ v-field å…§åŠ ä¸Š  rules å°æ‡‰ æ­¥é©Ÿ ä¸‰ çš„è¦å‰‡ï¼Œå¯«æ³•å¯ä»¥ email|requiredï¼Œä¸­é–“ | ä¸ç©ºç™½ æ˜¯ç›¸é€£çš„-->
              <!-- ç”¨ rules è€Œä¸æ˜¯ :rules æ˜¯å› ç‚º ç”¨å¤–éƒ¨å¼•å…¥çš„å®˜æ–¹æ–‡ä»¶ï¼Œ:rules æ˜¯å°æ‡‰ è‡ªå·±è‡ªå®šç¾©è¦å‰‡  -->

              <!-- :class="{ 'is-invalid': errors['email'] }"ï¼Œis-invalid æ˜¯ bootstrap input çš„æ¨£å¼ -->
              <!-- v-slot="{ errors }" å†å‚³å…¥åˆ° errors['email']ï¼Œemail æŒ‡çš„æ˜¯ ç•¶ email éŒ¯èª¤æ™‚ -->
              <!-- v-model="user.email"ï¼Œé€™é‚ŠåªæŠŠ è¼¸å…¥çš„ email ä¸Ÿåˆ° data è£¡ï¼Œå…¶ä»–æ²’æœ‰æ“ä½œ -->
              <v-field
                id="email"
                name="email"
                type="email"
                class="form-control"
                placeholder="è«‹è¼¸å…¥ Email"
                rules="email|required"
                :class="{ 'is-invalid': errors['email'] }"
                v-model="user.email"
              ></v-field>
              <!-- span æ”¹æˆ error-message -->
              <!-- error-message å…§ åŠ ä¸Š name å°æ‡‰ v-field -->
              <!-- class="invalid-feedback"ï¼Œinvalid-feedback æ˜¯å°æ‡‰åˆ° ä¸Šæ–¹ v-field å…§çš„ :class is-invalidï¼Œæ‰æœƒæœ‰éŒ¯èª¤æé†’å‡ºç¾ -->
              <error-message
                class="invalid-feedback"
                name="email"
              ></error-message>
            </div>

            <div class="mb-3">
              <label
                for="name"
                class="form-label"
              >å§“å</label>
              <input
                id="name"
                name="å§“å"
                type="text"
                class="form-control"
                placeholder="è«‹è¼¸å…¥å§“å"
              >
              <span class="invalid-feedback"></span>
            </div>

            <div class="mb-3">
              <label
                for="phone"
                class="form-label"
              >é›»è©±</label>
              <!-- input æ”¹æˆ v-field -->
              <!-- é€™é‚Šç”¨ :rules æ˜¯å°æ‡‰åˆ° è‡ªå®šç¾© methods å…§çš„ isPhone -->
              <!-- é›»è©±éŒ¯èª¤çš„è¨Šæ¯ åªæœƒå‘ˆç¾åœ¨ ä¸Šé¢çš„ errorï¼Œèˆ‡ä¸Šæ–¹ email åšä¸€å€‹å°æ¯” -->
              <v-field
                id="phone"
                name="é›»è©±"
                type="text"
                class="form-control"
                placeholder="è«‹è¼¸å…¥é›»è©±"
                :rules="isPhone"
              ></v-field>
              <span class="invalid-feedback"></span>
            </div>

            <div class="mb-3">
              <label
                for="region"
                class="form-label"
              >åœ°å€</label>
              <select
                id="region"
                name="åœ°å€"
                class="form-control"
              >
                <option value="">è«‹é¸æ“‡åœ°å€</option>
                <option value="å°åŒ—å¸‚">å°åŒ—å¸‚</option>
                <option value="é«˜é›„å¸‚">é«˜é›„å¸‚</option>
              </select>
              <span class="invalid-feedback"></span>
            </div>

            <div class="mb-3">
              <label
                for="address"
                class="form-label"
              >åœ°å€</label>
              <input
                id="address"
                name="åœ°å€"
                type="text"
                class="form-control"
                placeholder="è«‹è¼¸å…¥åœ°å€"
              >
              <span class="invalid-feedback"></span>
            </div>

            <button
              class="btn btn-primary"
              type="submit"
            >Submit</button>

          </v-form>

        </div>
        <!-- æ­¥é©Ÿ 1ï¼šåŠ å…¥ VeeValidation ç›¸é—œè³‡æº -->
        <!-- vee-validate é©—è­‰ å¥—ä»¶ï¼Œhttps://hackmd.io/FFv0a5cBToOATP7uI5COMQ ç¶²å€å…§ ä¸‰å€‹ CDNç¶²å€ éƒ½å°å…¥ -->
        <!-- ç•¶æ™‚é‡åˆ°å•é¡Œï¼Œç¶²å€å…§ CDN ç‰ˆæœ¬ éƒ½æ˜¯ 4.5.8ï¼Œä½†æœƒé€ æˆ è®€ä¸æˆåŠŸï¼Œæ‰€ä»¥æˆ‘å…ˆæ”¹æˆèˆŠç‰ˆæœ¬  4.1.7 -->
        <!-- è€Œç™¼ç¾  ä¸»å¥—ä»¶ ç”¨ 4.1.7ï¼Œå…¶ä»–å…©å€‹ç”¨ 4.5.8 æ‰èƒ½è·Ÿèª²ç¨‹ä¸€æ¨£æ­£ç¢ºçš„è¼¸å…¥æ¡†-->

        <!-- ä¸»å¥—ä»¶ -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vee-validate/4.5.8/vee-validate.min.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vee-validate/4.1.7/vee-validate.min.js"></script>
        <!-- Rules -->
        <script src="https://cdn.jsdelivr.net/npm/@vee-validate/rules@4.5.8/dist/vee-validate-rules.min.js"></script>
        <!-- i18n -->
        <script src="https://cdn.jsdelivr.net/npm/@vee-validate/i18n@4.5.8/dist/vee-validate-i18n.min.js"></script>
        <script type="module">
          // æ­¥é©Ÿ 3ï¼šå®šç¾©è¦å‰‡ï¼Œæœ‰ å…¨éƒ¨åŠ å…¥ çš„å¯«æ³•ï¼Œä½†å¯èƒ½é‡åˆ°ç‰ˆæœ¬å•é¡Œï¼Œæ‰€ä»¥é€™è£¡åªè¦ emailã€å¿…å¡« é€™å…©å€‹åŠŸèƒ½åŠ é€²ä¾†å°±å¯
          VeeValidate.defineRule('email', VeeValidateRules['email']);
          VeeValidate.defineRule('required', VeeValidateRules['required']);

          // æ­¥é©Ÿ 4ï¼šåŠ å…¥å¤šåœ‹èªç³»ï¼Œå°‡ å¤–éƒ¨è³‡æº å„²å­˜è‡³æœ¬åœ°ï¼Œæª”æ¡ˆ zh_TW.json 
          // è®€å–å¤–éƒ¨çš„è³‡æº
          // åˆ©ç”¨ ç¬¬ä¸‰å€‹ç¶²å€ i18n ä¾†è®€å– 
          VeeValidateI18n.loadLocaleFromURL('./zh_TW.json');

          // Activate the localeï¼Œè¨­å®šæª”
          // VeeValidate.configure({
          VeeValidate.configure({
            generateMessage: VeeValidateI18n.localize('zh_TW'), // åˆ‡æ›æˆ ä¸­æ–‡ç‰ˆ
            validateOnInput: true, // èª¿æ•´ç‚ºï¼šè¼¸å…¥æ–‡å­—æ™‚ï¼Œå°±ç«‹å³é€²è¡Œé©—è­‰
          });

          // æ­¥é©Ÿ 2ï¼šè¨»å†Šå…ƒä»¶
          const app = Vue.createApp({
            data() {
              return {
                user: {
                  email: '',
                  name: '',
                  address: '',
                  phone: ''
                }
              }
            },
            methods: {
              // åœ¨è¡¨å–®é€å‡ºå¾Œï¼Œè®“ this.user = {}ï¼Œä½†æ˜¯æ¬„ä½æœƒå†é©—è­‰ä¸€æ¬¡æœƒè·³å‡ºéŒ¯èª¤
              // resetForm() è¡¨å–®é‡ç½®
              onSubmit() {
                console.log(values); // é€çµ¦ API çš„è³‡æ–™å€¼
                resetForm(); // æŠŠè¡¨å–®é‡ç½®æˆé è¨­å€¼
              },
              isPhone(value) {
                const phoneNumber = /^(09)[0-9]{8}$/
                return phoneNumber.test(value) ? true : 'éœ€è¦æ­£ç¢ºçš„é›»è©±è™Ÿç¢¼'
              }
            },
            created() {
              console.log(this);
            }
          });

          // æ­¥é©Ÿ 2ï¼šè¨»å†Šå…ƒä»¶ï¼Œcreated çš„å¾Œæ–¹ï¼Œmount çš„å‰é¢
          // è¨»å†Šå…¨åŸŸçš„è¡¨å–®é©—è­‰å…ƒä»¶ï¼ˆVForm, VField, ErrorMessageï¼‰
          app.component('VForm', VeeValidate.Form);
          app.component('VField', VeeValidate.Field);
          app.component('ErrorMessage', VeeValidate.ErrorMessage);

          app.mount('#app');
        </script>

        <!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
      </main>

      <aside class="col-md-3">
        <div
          class="sticky-top"
          style="top: 76px"
        >
          <div class="list-group">

            <a
              href="/advApi/adv-refs.html"
              class="list-group-item list-group-item-action
        
        "
            >
              Refs
            </a>

            <a
              href="/advApi/adv-teleport.html"
              class="list-group-item list-group-item-action
        
        "
            >
              Teleport
            </a>

            <a
              href="/advApi/adv-provide.html"
              class="list-group-item list-group-item-action
        
        "
            >
              è·¨å±¤ç´šè³‡æ–™å‚³é Provide
            </a>

            <a
              href="/advApi/adv-component-v-model.html"
              class="list-group-item list-group-item-action
        
        "
            >
              è£½ä½œåŒ…å« v-model çš„å…ƒä»¶
            </a>

            <a
              href="/advApi/adv-mixins.html"
              class="list-group-item list-group-item-action
        
        "
            >
              Mixin æ··åˆ
            </a>

            <a
              href="/advApi/adv-extend.html"
              class="list-group-item list-group-item-action
        
        "
            >
              Extend æ“´å±•
            </a>

            <a
              href="/advApi/adv-directive.html"
              class="list-group-item list-group-item-action
        
        "
            >
              è‡ªè¨‚ç¾©æŒ‡ä»¤
            </a>

            <a
              href="/advApi/adv-use-plugin.html"
              class="list-group-item list-group-item-action
        
        "
            >
              å¤–éƒ¨å¥—ä»¶å¼•ç”¨
            </a>

            <a
              href="/advApi/adv-vee-validation.html"
              class="list-group-item list-group-item-action
        
        active"
            >
              è¡¨å–®é©—è­‰å¥—ä»¶
            </a>

          </div>
          <div class="mt-3 text-end p-2 bg-light rounded">
            <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/6/21</small>
          </div>
        </div>

      </aside>

    </div>
  </div>

  <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
    <div class="container-fluid">
      <a
        class="navbar-brand"
        href="/"
      >Vue 3 ç·´ç¿’æ‰‹å†Š</a>
      <div
        class="collapse navbar-collapse"
        id="navbarCollapse"
      >
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a
              class="nav-link "
              href="/es6/shorthand.html"
            >JS å¿…å‚™è§€å¿µ</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/intro/createApp.html"
            >èªè­˜ Vue.js</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/template/v-text.html"
            >æ¨¡æ¿</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/optionsApi/options-methods.html"
            >æ–¹æ³•</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/components/component_register.html"
            >å…ƒä»¶</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link active"
              href="/advApi/adv-refs.html"
            >é€²éš</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/router/vue-router.html"
            >è·¯ç”±</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/composition/proxy.html"
            >Composition API</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <footer class="footer py-2 bg-light">
    <div class="container text-center">
      <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
    </div>
  </footer>
  <link
    rel="stylesheet"
    href="/stylesheets/all.css"
  >
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
  >
</body>

</html>