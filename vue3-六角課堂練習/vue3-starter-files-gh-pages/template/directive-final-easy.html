<!DOCTYPE html>
<html>

<head>
  <title>ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ</title>
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1"
  >
  <link
    href="images/favicon.ico"
    rel="shortcut icon"
  >
  <meta charset="UTF-8">
  <script src="/javascripts/vendor.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.0.2/vue.global.js"></script>
</head>

<body class="bg-lighter">
  <div class="container main my-5">
    <div class="row">
      <main class="col post">
        <!-- ç« ç¯€æ¨™é¡Œ -->
        <div class="mb-4">
          <h1 class="mt-0 text-muted">ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ</h1><small>æª”åï¼š<code>directive-final-easy.html</code></small>
        </div>
        <!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->

        <!-- ç¨‹åºæ€è€ƒ
    1. å·¦é‚Šé¡¯ç¤ºèœå–®å€å¡Š - ç”¢å“å“é …è³‡è¨Š
    2. æš«å­˜è³‡æ–™ - é¸å–å¾Œçš„ç”¢å“
    3. æš«å­˜è³‡æ–™ -> è½‰æˆè¨‚å–®å…§å®¹(åŠ å…¥åˆ° è³¼ç‰©è»Š)
    4. è¨ˆç®—ç¸½é‡‘é¡
    5. å–æ¶ˆã€é‡æ–°é¸æ“‡æŒ‰éˆ•
-->

        <div id="app">
          <div class="container gx-2">
            <div class="row gx-3 bg-light py-3">
              <div class="col-md-4">
                <div class="list-group">
                  <a
                    href="#"
                    class="list-group-item list-group-item-action"
                    v-for="item in products"
                    :key="item.name"
                    @click.prevent="selectedProducts(item)"
                    :class="{'active': itemSelected.name === item.name}"
                  >
                    <h6 class="card-title mb-1">{{item.name}}</h6>
                    <div class="d-flex align-items-center justify-content-between">
                      <p class="mb-0"><small>{{item.engName}}</small></p>
                      <p class="mb-0"><small>{{item.price}}</small></p>
                    </div>
                  </a>

                  <!-- å‡è³‡æ–™ - æœ¬ä¾†é»˜èªåœ¨å·¦æ–¹èœå–®çš„å‡ç”¢å“è³‡æ–™ -->
                  <!-- <a
                    href="#"
                    class="list-group-item list-group-item-action"
                  >
                    <h6 class="card-title mb-1">çç é®®å¥¶èŒ¶</h6>
                    <div class="d-flex align-items-center justify-content-between">
                      <p class="mb-0"><small>Pearl Milk Tea</small></p>
                      <p class="mb-0"><small>NT$ 60</small></p>
                    </div>
                  </a>
                  <a
                    href="#"
                    class="list-group-item list-group-item-action active"
                  >
                    <h6 class="card-title mb-1">é®®å¥¶èŒ¶</h6>
                    <div class="d-flex align-items-center justify-content-between">
                      <p class="mb-0"><small>Milk Tea</small></p>
                      <p class="mb-0"><small>NT$ 40</small></p>
                    </div>
                  </a> -->
                </div>
              </div>
              <div class="col-md-8">
                <div class="card mb-2">

                  <!-- åœ¨æœªé¸å–å•†å“æ™‚ï¼Œæœƒæœ‰ é®è“‹å“é …èª¿æ•´ çš„é™°å½± -->
                  <!-- v-if = true æ™‚ æœƒä½¿ç”¨é€™æ¨™ç±¤ -->
                  <div
                    class="position-absolute text-white d-flex align-items-center justify-content-center active"
                    style="top: 0;bottom: 0;left: 0;right: 0;background-color: rgba(0, 0, 0, 0.65); z-index: 100;"
                    v-if="!itemSelected.name"
                  >
                    è«‹å…ˆé¸æ“‡é£²å“
                  </div>

                  <div class="card-body px-4">
                    <div class="mb-3">
                      <label
                        for="productNum"
                        class="form-label"
                      >æ•¸é‡</label>
                      <!-- v-model="itemSelected.count" ç¶å®šæ•¸é‡ -->
                      <!-- min="1" é€™è£¡æœ‰ä¸Šä¸‹æ»¾è¼ªå¯èª¿æ•´æ•¸é‡ï¼Œé˜²æ­¢å‘ä¸‹æ•¸é‡ç‚º 0 
                           ä½†é‚„æ˜¯å¯ä»¥ç›´æ¥è¼¸å…¥ 0 
                      -->
                      <input
                        type="number"
                        class="form-control"
                        id="productNum"
                        v-model="itemSelected.count"
                        placeholder="æ•¸é‡"
                        min="1"
                      >
                    </div>
                    <div class="mb-3">
                      <label
                        for="productNum"
                        class="form-label d-block"
                      >å†°å¡Š*</label>
                      <div
                        class="form-check form-check-inline"
                        v-for="(ice,key) in iceType"
                        :key="'ice'+key"
                      >
                        <input
                          class="form-check-input"
                          name="iceType"
                          type="radio"
                          :id="'ice'+key"
                          :value="ice"
                          v-model="itemSelected.ice"
                        >
                        <label
                          class="form-check-label"
                          :for="'ice'+key"
                        >{{ice}}</label>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label
                        for="productNum"
                        class="form-label d-block"
                      >ç”œåº¦*</label>
                      <div
                        class="form-check form-check-inline"
                        v-for="(sugar,key) in sugarType"
                        :key="'sugar'+key"
                      >
                        <input
                          class="form-check-input"
                          name="sugarType"
                          type="radio"
                          :id="'sugar'+key"
                          :value="sugar"
                          v-model="itemSelected.sugar"
                        >
                        <label
                          class="form-check-label"
                          :for="'sugar'+key"
                        >{{sugar}}</label>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label
                        for="productNum"
                        class="form-label d-block"
                      >åŠ æ–™</label>
                      <div
                        class="form-check form-check-inline"
                        v-for="(topping,key) in toppingsType"
                        :key="'topping' + key"
                      >
                        <!-- å‹¾é¸æ¡† ä»¥åŠ æ–‡å­— å…©å€å¡Š ç¶å®š idã€for ä»¥åŠ key -->
                        <!-- input ä¸­ :value="topping"  æŠŠå‹¾é¸åŠ æ–™ å–å‡ºä¾† åŠ åˆ° methods ä¸­çš„ toppings: []-->
                        <!-- v-model="itemSelected.toppings" -->
                        <input
                          class="form-check-input"
                          type="checkbox"
                          :value="topping"
                          v-model="itemSelected.toppings"
                          :id="'topping' + key"
                        >
                        <label
                          class="form-check-label"
                          :for="'topping' + key"
                        >{{topping}}</label>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label
                        for="productNotice"
                        class="form-label"
                      >å‚™è¨»</label>
                      <textarea
                        class="form-control"
                        id="productNotice"
                        rows="2"
                        v-model="itemSelected.orderNote"
                      ></textarea>
                    </div>
                    <div class="d-flex gap-2">
                      <button
                        class="btn btn-outline-primary w-100"
                        type="button"
                        @click="resetOrder"
                      >å–æ¶ˆ</button>
                      <!-- @click="addToOrder(itemSelected)" é»æ“Šäº‹ä»¶ -->
                      <!-- å°‡å‰›å‰›é»é¸å¾Œæš«å­˜çš„è³‡æ–™ æ”¾åˆ°è³¼ç‰©è»Š -->
                      <button
                        class="btn btn-primary w-100"
                        type="button"
                        @click="addToOrder(itemSelected)"
                      >åŠ å…¥</button>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">å“é …</th>
                          <th scope="col">å†°å¡Š</th>
                          <th scope="col">ç”œåº¦</th>
                          <th scope="col">åŠ æ–™</th>
                          <th scope="col">å–®åƒ¹</th>
                          <th scope="col">æ•¸é‡</th>
                          <th scope="col">å°è¨ˆ</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          v-for="(item,key) in orderList"
                          :key=" 'order' + key"
                        >
                          <th scope="row">{{item.name}}<br>
                            <small class="text-muted fw-normal">{{item.orderNote}}</small>
                          </th>
                          <td>{{item.ice.toString()}}</td>
                          <td>{{item.sugar.toString()}}</td>
                          <td>{{item.toppings.toString()}}</td>
                          <td>{{item.price + item.toppings.length*10}}</td>
                          <td>{{item.count}}</td>
                          <td class="text-end">{{item.total}}</td>
                        </tr>
                      </tbody>
                    </table>
                    <!-- åœ¨ data ä¸­ï¼Œå…ˆé è¨­ orderTotal = 0 -->
                    <!-- åœ¨ä¹‹å¾Œ methods ä¸­å†å»è¨ˆç®— å…±è¨ˆ -->
                    <p class="text-end">å…± NT$ {{orderTotal}} å…ƒ</p>
                    <button
                      class="btn btn-sm btn-secondary w-100"
                      @click="restart"
                    >é‡æ–°é¸æ“‡</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <script>
          const App = {
            data() {
              return {
                // æš«å­˜è³‡æ–™ - é»é¸å·¦é‚Š é¸å–å¾Œçš„ç”¢å“ å­˜æ”¾ç”¨
                itemSelected: {

                },
                // æš«å­˜è³‡æ–™ - é¸å–å¾Œçš„ç”¢å“ -> è½‰æˆè¨‚å–®å…§å®¹(åŠ å…¥åˆ° è³¼ç‰©è»Š) å­˜æ”¾ç”¨
                // å› ç‚ºè³¼ç‰©è»Šå¯ä»¥æ”¾å¤šç­†ï¼Œä½¿ç”¨é™£åˆ—å­˜æ”¾
                orderList: [

                ],
                // é è¨­ å…±è¨ˆ = 0ï¼Œä¹‹å¾Œçµ¦ methods åšè¨ˆç®—
                orderTotal: 0,

                iceType: ['æ­£å¸¸å†°', 'å°‘å†°', 'å¾®å†°', 'å»å†°', 'ç†±'],
                sugarType: ['å…¨ç³–', 'ä¸ƒåˆ†', 'åŠç³–', 'ä¸‰åˆ†', 'ç„¡ç³–'],
                toppingsType: ['çç ', 'ç²‰æ¢', 'å°ç²‰åœ“', 'æ¤°æœ', 'èŠ‹é ­'],
                products: [
                  {
                    name: 'çç é®®å¥¶èŒ¶',
                    engName: 'Pearl Milk Tea',
                    price: 60,
                  },
                  {
                    name: 'é®®å¥¶èŒ¶',
                    engName: 'Milk Tea',
                    price: 50,
                  },
                  {
                    name: 'å¤æ„å†¬ç“œèŒ¶',
                    engName: 'Winter Melon Drink',
                    price: 30,
                  },
                  {
                    name: 'èœœé¦™ç´…èŒ¶',
                    engName: 'Black Tea',
                    price: 30,
                  },
                  {
                    name: 'åŒ…ç¨®é’èŒ¶',
                    engName: 'Black Tea',
                    price: 35,
                  },
                  {
                    name: 'æª¸æª¬çƒé¾',
                    engName: 'Lemon Oolong Tea',
                    price: 55,
                  },
                  {
                    name: 'è–‘æ¯èŒ¶',
                    engName: 'Ginger Tea',
                    price: 55,
                  },
                  {
                    name: 'é’è‰èŒ¶',
                    engName: 'Herbal Tea',
                    price: 35,
                  },
                  {
                    name: 'é‡‘æ¡”æª¸æª¬',
                    engName: 'Kumquat Lemonade',
                    price: 40,
                  },
                  {
                    name: 'æŸ³æ¾„é’èŒ¶',
                    engName: 'Orange Mountain Tea',
                    price: 45,
                  },
                ],
              }
            },
            methods: {
              // é»æ“Šäº‹ä»¶ - é¸å–å•†å“ åˆ° æš«å­˜è³‡æ–™å€
              selectedProducts(product) {
                this.itemSelected = {
                  ...product,
                  // æ”¾å…¥ é¸æ“‡çš„ å†°å¡Šï¼Œé è¨­å…ˆçµ¦é»˜èªå€¼ï¼Œå¯å…ˆè®“å‹¾é¸é»˜èª æ­£å¸¸å†°
                  ice: "æ­£å¸¸å†°",
                  // æ”¾å…¥ é¸æ“‡çš„ ç³–åº¦ï¼Œé è¨­å…ˆçµ¦é»˜èªå€¼ï¼Œå¯å…ˆè®“å‹¾é¸é»˜èª å…¨ç³–
                  sugar: "å…¨ç³–",
                  // æ”¾å…¥ é¸æ“‡çš„ åŠ æ–™
                  toppings: [],
                  // æ”¾å…¥ å‚™è¨»
                  orderNote: "",

                  // é¸å–å•†å“å¾Œæ•¸é‡éƒ½å…ˆé è¨­ç‚º 1
                  count: 1,
                };
              },
              // è¨ˆç®— ç¸½åƒ¹æ ¼ 
              countTotal() {
                this.orderTotal = 0;
                // foreach æ˜¯æŠŠæ¯ä¸€å€‹å“é …çš„åƒ¹æ ¼æ•¸é‡éƒ½é¸èµ·ä¾†åšè¨ˆç®—
                this.orderList.forEach((item) => {
                  this.orderTotal += item.total;
                });
              },
              // å–æ¶ˆæŒ‰éˆ•ï¼Œå–æ¶ˆä¹‹å¾Œï¼Œæš«å­˜é‡ç½®æˆ ç©ºç‰©ä»¶
              resetOrder() {
                this.itemSelected = {};
              },
              // é‡æ–°é¸æ“‡ æŒ‰éˆ•
              // é‡æ–°é¸æ“‡å¾Œï¼Œè³¼ç‰©æ¸…å–®é‡ç½®æˆ ç©ºé™£åˆ—
              // æ¸…ç©º è¨‚å–®å…§å®¹ è¨‚å–®ç¸½åƒ¹
              restart() {
                this.orderList = [];
                this.orderTotal = 0;
              },
              // é»æ“Šäº‹ä»¶ - é¸å–å¾Œçš„æš«å­˜è³‡æ–™ è½‰æˆè¨‚å–®(åŠ åˆ° è³¼ç‰©è»Š)
              // è³¼ç‰©è»Šæ˜¯é™£åˆ—ï¼Œç”¨ push å­˜æ”¾åƒæ•¸
              // total = åƒ¹æ ¼ * åŠ æ–™ä¸€é … 10 å…ƒï¼Œlength æ„æ€æ˜¯åŠ æ–™æœƒæ”¾åˆ°é™£åˆ—ï¼Œlength ç­‰æ–¼æ•¸é‡ ï¼Œä¹‹å¾Œå†ä¸€èµ· * ç”¢å“æ•¸é‡
              addToOrder(product) {
                const order = {
                  ...product,
                  total: (product.price + product.toppings.length * 10) * product.count
                }
                // æŒ‰ä¸‹åŠ å…¥å¾Œï¼Œè¨ˆç®— åƒ¹æ ¼ * æ•¸é‡ æ”¾åˆ° æš«å­˜è³‡æ–™å€
                this.orderList.push(order);
                // æŠŠ æ¯å€‹å“é … åƒ¹æ ¼ è¨ˆç®—ç¸½åƒ¹
                this.countTotal();
                // åŠ å…¥å•†å“å¾Œ é‡ç½® å®¢è£½åŒ–é¸é …æ¡†
                this.resetOrder()
              },
            },
          };

          Vue.createApp(App).mount('#app');
        </script>
        <!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
      </main>

      <aside class="col-md-3">
        <div
          class="sticky-top"
          style="top: 76px"
        >
          <div class="list-group">

            <a
              href="/template/v-text.html"
              class="list-group-item list-group-item-action
        list-group-item-success
        "
            >
              æ¸²æŸ“è³‡æ–™æ–¼ç•«é¢ä¸Š
            </a>

            <a
              href="/template/v-for.html"
              class="list-group-item list-group-item-action
        list-group-item-success
        "
            >
              å‘ˆç¾å¤šç­†è³‡æ–™
            </a>

            <a
              href="/template/v-if.html"
              class="list-group-item list-group-item-action
        list-group-item-success
        "
            >
              æ¸²æŸ“åˆ¤æ–·
            </a>

            <a
              href="/template/v-bind.html"
              class="list-group-item list-group-item-action
        list-group-item-success
        "
            >
              å±¬æ€§ç¶å®š
            </a>

            <a
              href="/template/v-style.html"
              class="list-group-item list-group-item-action
        list-group-item-success
        "
            >
              æ¨£å¼åˆ‡æ›
            </a>

            <a
              href="/template/form.html"
              class="list-group-item list-group-item-action
        list-group-item-danger
        "
            >
              v-model èˆ‡è¡¨å–®
            </a>

            <a
              href="/template/v-model-modifiers.html"
              class="list-group-item list-group-item-action
        list-group-item-danger
        "
            >
              v-model ä¿®é£¾ç¬¦
            </a>

            <a
              href="/template/v-on.html"
              class="list-group-item list-group-item-action
        list-group-item-info
        "
            >
              v-on äº‹ä»¶è§¸ç™¼
            </a>

            <a
              href="/template/v-on-modifiers.html"
              class="list-group-item list-group-item-action
        list-group-item-info
        "
            >
              v-on ä¿®é£¾ç¬¦
            </a>

            <a
              href="/template/v-on-dom-event.html"
              class="list-group-item list-group-item-action
        list-group-item-info
        "
            >
              è£œå……ï¼šv-on DOM äº‹ä»¶
            </a>

            <a
              href="/template/directive-final-easy.html"
              class="list-group-item list-group-item-action
        
        active"
            >
              ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ
            </a>

            <a
              href="/template/directive-final.html"
              class="list-group-item list-group-item-action
        
        "
            >
              ç« ç¯€æŒ‘æˆ° - æŒ‘æˆ°ç‰ˆ
            </a>

          </div>
          <div class="mt-3 text-end p-2 bg-light rounded">
            <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/6/21</small>
          </div>
        </div>

      </aside>

    </div>
  </div>

  <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
    <div class="container-fluid">
      <a
        class="navbar-brand"
        href="/"
      >Vue 3 ç·´ç¿’æ‰‹å†Š</a>
      <div
        class="collapse navbar-collapse"
        id="navbarCollapse"
      >
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a
              class="nav-link "
              href="/es6/shorthand.html"
            >JS å¿…å‚™è§€å¿µ</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/intro/createApp.html"
            >èªè­˜ Vue.js</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link active"
              href="/template/v-text.html"
            >æ¨¡æ¿</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/optionsApi/options-methods.html"
            >æ–¹æ³•</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/components/component_register.html"
            >å…ƒä»¶</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/advApi/adv-refs.html"
            >é€²éš</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/router/vue-router.html"
            >è·¯ç”±</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link "
              href="/composition/proxy.html"
            >Composition API</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <footer class="footer py-2 bg-light">
    <div class="container text-center">
      <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
    </div>
  </footer>
  <link
    rel="stylesheet"
    href="/stylesheets/all.css"
  >
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
  >
</body>

</html>